<div class="my-4 rounded-lg border border-gray-300 bg-gray-900 overflow-hidden">
  <div class="bg-gray-800 px-4 py-2 flex items-center gap-2 border-b border-gray-700">
    <div class="flex gap-1.5">
      <div class="w-3 h-3 rounded-full bg-red-500"></div>
      <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
      <div class="w-3 h-3 rounded-full bg-green-500"></div>
    </div>
    <span class="font-mono text-xs text-gray-400 ml-2">terminal</span>
    <button 
      class="ml-auto text-gray-400 hover:text-gray-200 transition-colors p-1 rounded hover:bg-gray-700" 
      onclick="copyTerminal(this)" 
      title="Copier la commande">
      <svg class="copy-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
    </button>
  </div>
  <div class="px-4 py-3">
    <code class="font-mono text-sm text-green-400">{{ if .Get "prompt" }}{{ .Get "prompt" }}{{ else }}${{ end }} <span class="text-gray-100">{{ trim .Inner "\n\r" }}</span></code>
  </div>
</div>

<script>
function copyTerminal(button) {
  const code = button.closest('div').nextElementSibling.querySelector('code span');
  const text = code.innerText;
  navigator.clipboard.writeText(text).then(() => {
    const icon = button.querySelector('.copy-icon');
    const originalHTML = icon.innerHTML;
    icon.innerHTML = '<path d="M20 6L9 17l-5-5"></path>';
    icon.setAttribute('stroke', '#10b981');
    setTimeout(() => {
      icon.innerHTML = originalHTML;
      icon.setAttribute('stroke', 'currentColor');
    }, 2000);
  });
}
</script>